var express=require("express"),cors=require("cors"),app=express(),path=require("path"),amazon=require("amazon-product-api"),api_key=require("./api_private");app.use(express.static("public")),app.use(cors());var client=amazon.createClient({awsId:api_key.awsId,awsSecret:api_key.awsSecret,awsTag:api_key.awsTag});app.get("/search/:term",function(e,s){client.itemSearch({searchIndex:"All",keywords:e.params.term,responseGroup:"SalesRank, ItemAttributes, Images, BrowseNodes"}).then(function(e){console.log(e[0].BrowseNodes[0].BrowseNode[1].Name),s.json(e)}).catch(function(e){console.log(e),console.log("error")})}),app.get("/item/:id",function(e,s){client.itemLookup({itemId:e.params.id,responseGroup:"ItemAttributes, Images"}).then(function(e){s.json(e)}).catch(function(e){console.log(results)})}),app.listen(8080,function(){console.log("Listening on Port 8080")});