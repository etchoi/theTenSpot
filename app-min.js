var express=require("express"),cors=require("cors"),app=express(),path=require("path"),amazon=require("amazon-product-api"),api_key=require("./api_private");app.use(express.static("public")),app.use(cors());var client=amazon.createClient({awsId:api_key.awsId,awsSecret:api_key.awsSecret,awsTag:api_key.awsTag});app.get("/search/:term",function(e,a){client.itemSearch({searchIndex:"All",keywords:e.params.term,responseGroup:"SalesRank, EditorialReview, ItemAttributes, Images, Reviews"}).then(function(e){a.json(e)}).catch(function(e){console.log(e),console.log("error")})}),app.get("/item/:id",function(e,a){client.itemLookup({itemId:e.params.id}).then(function(e){a.json(e)}).catch(function(e){console.log(e)})}),app.listen(8080,function(){console.log("Listening on Port 8080")});